# AI Agent Platform API Gateway Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=false

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json

# Application version (auto-detected in production)
VERSION=1.0.0

# =============================================================================
# SERVICE URLS (REQUIRED)
# =============================================================================

# AMS (Agent Management Service) - Supabase Edge Function
AMS_BASE_URL=https://your-project.supabase.co/functions/v1/ams

# Letta Server - Self-hosted agent engine
LETTA_BASE_URL=https://your-letta-server.com

# LiteLLM Proxy - Unified LLM access
LITELLM_BASE_URL=https://your-litellm-proxy.com

# LiteLLM Master Key (optional, only needed for admin operations like key deletion)
LITELLM_MASTER_KEY=your-litellm-master-key

# Supabase - PostgreSQL + Auth service
SUPABASE_URL=https://your-project.supabase.co

# =============================================================================
# AUTHENTICATION (REQUIRED)
# =============================================================================

# Supabase JWT Secret (from Supabase project settings)
SUPABASE_JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long

# Letta API Key
LETTA_API_KEY=your-letta-api-key

# Agent Secret Master Key (for agent-to-LLM proxy)
AGENT_SECRET_MASTER_KEY=your-agent-secret-master-key

# Admin Panel Secret Key (minimum 12 characters)
ADMIN_SECRET_KEY=your-super-secret-admin-key-change-me-in-production

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Maximum concurrent requests
MAX_CONCURRENT_REQUESTS=1000

# Request timeout (seconds)
REQUEST_TIMEOUT=30.0

# Letta-specific timeout (seconds)
LETTA_TIMEOUT=60.0

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable rate limiting (true/false)
ENABLE_RATE_LIMITING=true

# Enable caching (true/false)
ENABLE_CACHING=true

# Enable Prometheus metrics (true/false)
ENABLE_METRICS=true

# Enable API documentation (true/false)
ENABLE_DOCS=true

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://your-frontend.com

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis URL
REDIS_URL=redis://localhost:6379

# Redis password (optional)
REDIS_PASSWORD=

# Redis database number
REDIS_DB=0

# Maximum Redis connections
REDIS_MAX_CONNECTIONS=10

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

# General API requests per hour per user
RATE_LIMIT_GENERAL=1000

# LLM-heavy operations per hour per user
RATE_LIMIT_LLM=100

# LiteLLM proxy requests per hour per user
RATE_LIMIT_PROXY=500

# =============================================================================
# CIRCUIT BREAKER CONFIGURATION
# =============================================================================

# Number of failures before opening circuit breaker
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5

# Recovery timeout in seconds
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60

# =============================================================================
# CACHE TTL SETTINGS (SECONDS)
# =============================================================================

# JWT validation cache TTL
CACHE_TTL_JWT=300

# User profile cache TTL
CACHE_TTL_USER=300

# Agent ownership cache TTL
CACHE_TTL_OWNERSHIP=600

# Health check cache TTL
CACHE_TTL_HEALTH=60

# =============================================================================
# MONITORING (OPTIONAL)
# =============================================================================

# Grafana admin password
GRAFANA_PASSWORD=admin

# =============================================================================
# DOCKER BUILD ARGS (OPTIONAL)
# =============================================================================

# Build date (ISO 8601 format)
BUILD_DATE=2025-09-21T05:09:00Z

# VCS reference (git commit hash)
VCS_REF=main

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Server host (for development)
HOST=0.0.0.0

# Server port (for development)
PORT=8000

# Number of workers (for production)
WORKERS=1
